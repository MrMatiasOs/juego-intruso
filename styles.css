:root{
  /* tipografía y espacios fluidos */
  --fs-base: clamp(16px, 1.1vw + 12px, 19px);
  --space: clamp(10px, 1vw + 6px, 16px);

  --bg:#0b0b0b; --fg:#f5f5f5; --card:#171717; --muted:#cfcfcf;
  --accent:#ffd54a; --accent2:#7fd1b9; --info:#89a7ff;
  --ok:#7fd1b9; --bad:#ff7a7a; --focus:3px solid var(--accent);
}
*{box-sizing:border-box}
html,body{height:100%}
html{-webkit-text-size-adjust:100%; text-size-adjust:100%}
body{
  margin:0; background:var(--bg); color:var(--fg);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  font-size:var(--fs-base); line-height:1.5;
  padding-bottom: calc(env(safe-area-inset-bottom, 0) + var(--space));
  -webkit-tap-highlight-color: transparent;
}

/* Contenedor más contenido en desktop */
.wrap{
  max-width: 900px;
  width: min(900px, calc(100% - 2*var(--space)));
  margin: 0 auto;
  padding: var(--space);
}

.header h1{
  font-size: clamp(1.6rem, 1.6vw + 1rem, 2.1rem);
  margin:.5rem 0;
}
.intro{margin:0 0 var(--space); color:var(--fg)}

/* Controles: 1 columna en móvil; 2 columnas ordenadas en desktop */
.controles{
  display: grid;
  gap: .6rem 1rem;
  grid-template-columns: 1fr;       /* móvil */
  align-items: center;
  margin: var(--space) 0;
}

/* etiquetas arriba del select (coherente en todas las vistas) */
label{opacity:.95; display:block}
select{
  background:var(--card); color:var(--fg);
  border:1px solid #333; padding:.6rem; border-radius:.6rem; width:100%;
}

/* botones grandes y cómodos */
.btn{
  border:0; border-radius:.9rem; cursor:pointer; font-weight:700;
  padding:.8rem 1rem; min-height:48px;
}
.btn.principal{background:var(--accent); color:#000}
.btn.secundario{background:var(--accent2); color:#000}
.btn.info{background:var(--info); color:#000}
.btn:focus-visible{outline:var(--focus)}

/* Carta y opciones */
.juego{display:grid; gap:var(--space)}
.tarjeta{
  background:var(--card); border:1px solid #2a2a2a;
  border-radius:1rem; padding:var(--space)
}
.pregunta{font-size:clamp(1.2rem, 1.1vw + 1rem, 1.6rem); margin:0 0 .5rem}

/* Opciones: 1 columna en móvil; 2 columnas en pantallas amplias */
.opciones{
  display:grid; gap:.6rem;
  grid-template-columns: 1fr;              /* móvil */
}
@media (min-width: 820px){
  .opciones{ grid-template-columns: 1fr 1fr; }  /* desktop */
}
.opciones button{
  text-align:left; background:#222; color:var(--fg);
  border:2px solid #333; border-radius:.8rem;
  padding:1rem; font-size:1.05rem; line-height:1.35; cursor:pointer; width:100%;
}
.opciones button:focus-visible{outline:var(--focus)}
.opciones button.correcta.marcada{
  border-color:var(--ok);
  box-shadow:0 0 0 2px #000, inset 0 0 0 2px var(--ok)
}
.opciones button.incorrecta.marcada{
  border-color:var(--bad);
  box-shadow:0 0 0 2px #000, inset 0 0 0 2px var(--bad)
}

/* Feedback + progreso */
.feedback{font-size:1rem; margin:.5rem 0 0}
.feedback.ok{color:var(--ok)}
.feedback.bad{color:var(--bad)}
.acciones{margin-top:.8rem}
.progresoBar{height:10px; background:#333; border-radius:999px; overflow:hidden; margin:.6rem 0}
.progresoBar>div{height:100%; background:var(--accent); width:0%}
.estado{margin-top:.6rem}
.estado p{margin:.2rem 0}
.muted{color:var(--muted)}
.sep{border:none; border-top:1px solid #2a2a2a; margin: .6rem 0}

/* Modal y botón de ayuda */
.fixed-top-right{position:fixed; right:12px; top:12px; z-index:10}
.modal{display:none; position:fixed; inset:0; background:rgba(0,0,0,.6); z-index:20}
.modal[aria-hidden="false"]{display:block}
.modal-card{
  max-width:min(820px, 100% - 2*var(--space));
  margin:5vh auto; background:var(--card); color:var(--fg);
  padding:var(--space); border-radius:12px; border:1px solid #2a2a2a
}
.mt0{margin-top:0}
.modal-actions{display:flex; gap:8px; justify-content:flex-end}

/* Tamaño muy grande opcional */
.muy-grande{font-size: calc(var(--fs-base) * 1.2)}

/* Desktop: controles más ordenados y botón de ayuda integrado al header */
@media (min-width: 900px){
  .controles{
    grid-template-columns: 1fr 1fr;     /* 2 columnas: Label | Select (se repite por fila) */
    max-width: 680px;
    margin-inline: auto;
  }
  /* los botones en una fila aparte, alineados a la izquierda */
  .controles .btn{ justify-self: start }
  /* el botón de ayuda deja de estar flotado y se integra arriba */
  .fixed-top-right{ position: static; float: right; margin-top: .2rem }
}

/* Preferencia de reducir movimiento */
@media (prefers-reduced-motion: reduce){
  *{scroll-behavior:auto}
}
